"0","mh_adv_data%>%"
"0","  filter(donortype==""I"")%>%"
"0","  filter(startissuedate>=as.Date(""05/15/2023"",format=""%m/%d/%Y""))%>%"
"0","  filter(termnumber==1)%>%"
"0","  filter(expirationissuedate<=today())%>%"
"0","  distinct()%>%"
"0","  filter(og_termlength==4|og_termlength==52)%>%"
"0","  group_by(publicationcode,og_termlength)%>%"
"0","  summarise(new_users_after_price_increase=n_distinct(paste(shiptocustomernumber,billtocustomernumber)),"
"0","            renewals_after_first_term=n_distinct(ifelse(!is.na(renewaltermnumber),paste(shiptocustomernumber,billtocustomernumber),NA),na.rm=TRUE),"
"0","            avg_rate=mean(rate),"
"0","            median_rate=median(rate),"
"0","            total_new_revenue=sum(rate),"
"0","            canceled_loss=-1*sum(ifelse(!is.na(renewalrate),rate,NA),na.rm=TRUE),"
"0","            initial_first_term_revenue=total_new_revenue+canceled_loss,"
"0","            avg_renewed_rate=mean(ifelse(is.na(renewalrate),NA,rate),na.rm=TRUE),"
"0","            avg_canceled_rate=mean(ifelse(is.na(renewalrate),rate,NA),na.rm=TRUE)"
"0","            )"
"1","[38;5;232m`summarise()` has grouped output by 'publicationcode'. You can override using the `.groups` argument.[39m
"

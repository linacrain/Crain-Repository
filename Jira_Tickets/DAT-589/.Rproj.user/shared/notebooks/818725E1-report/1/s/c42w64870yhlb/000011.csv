"0","knitr::kable(adv_data%>%"
"0","  select(shiptocustomernumber)%>%"
"0","  distinct()%>%"
"0","  left_join(index,by=c(""shiptocustomernumber""=""advantagecustomerid""))%>%"
"0","  mutate(clickshareuserid=as.numeric(clickshareuserid))%>%"
"0","  left_join(business_job_adv,by=c(""clickshareuserid""=""clickshareuserid""))%>%"
"0","  left_join(mh_b,by=c(""busind""=""ID""))%>%"
"0","  group_by(shiptocustomernumber)%>%"
"0","  mutate(Value=ifelse(str_detect(Value,""Other Healthcare""),""Other Healthcare Organization"",Value))%>%"
"0","  mutate(v_check=ifelse(Value==""unknown""|is.na(Value)|str_detect(Value,""Other Healthcare"")|str_detect(Value,""Undefined""),0,1))%>%"
"0","  mutate(Value=ifelse(Value==""unknown"",""Other Healthcare Organization"",Value))%>%"
"0","  mutate(max_v=max(v_check))%>%"
"0","  filter(v_check==max_v)%>%"
"0","  mutate(Value=ifelse(is.na(Value),""Other Healthcare Organization"",Value))%>%"
"0","  select(shiptocustomernumber,Value)%>%"
"0","  distinct()%>%"
"0","  ungroup()%>%"
"0","  group_by(Value)%>%"
"0","  summarise(`Active Customers`=n_distinct(shiptocustomernumber,na.rm=TRUE))%>%"
"0","  arrange(desc(`Active Customers`))%>%"
"0","  ungroup()%>%"
"0","  mutate(`Business Industry`=Value)%>%"
"0","  select(-Value)%>%"
"0","  mutate(`Total Subscribers`=mh_totals)%>%"
"0","  top_n(10,`Active Customers`)%>%"
"0","  select(`Business Industry`,`Active Customers`,`Total Subscribers`)%>%"
"0","  mutate(`Share of Total Customers`=(round(`Active Customers`/`Total Subscribers`*100,2))))"
